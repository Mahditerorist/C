<!DOCTYPE html>
<html lang="en" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Gpt</title>
    <link rel="icon" type="image/png" sizes="32x32" href="https://api.pamickweb.com/assets/images/pami.ico">

  <style>
 body {
      background-color: #ffffff;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }

    .chat-container {
      max-width: 400px;
      margin: 20px auto;
      background-color: #ffffff;
      border: 1px solid #dddddd;
      border-radius: 5px;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    }

    .chat-header {
      background-color: #6f42c1;
      color: #ffffff;
      padding: 10px;
      font-weight: bold;
    }

    .chat-body {
      padding: 10px;
      min-height: 200px;
      max-height: 400px;
      overflow-y: scroll;
    }

    .chat-input {
    width: 377px;
    padding: 10px;
    margin-top: 10px;
    }

    .chat-input input[type="text"] {
      width: 353px;
    padding: 10px;
    margin-top: 10px;
    }

    .chat-input button {
       padding: 10px 20px;
    margin-top: 10px;
    background-color: #428bca;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    width: 100%;
    align-items: center;
    }

    .chat-message {
      background-color: #f0f0f0;
      padding: 5px;
      margin-bottom: 10px;
      border-radius: 3px;
    }
  </style>
</head>

<body>
  <div class="chat-container">
    <div class="chat-header">چت با هوش مصنوعی - Chat GPT</div>
    <div class="chat-body" id="chatBody"></div>
    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="massage Text">>
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <script>
    function getMessageHTML(message) {
      return `<div class="chat-message">${message}</div>`;
    }

    function getMessageHTML2(message) {
      return `<div class="chat-message" style="color: blue;">${message}</div>`;
    }

    function sendMessagephp(message) {
      var xhr = new XMLHttpRequest();
      var url = 'https://api.pamickweb.com/API/chat.php?server=server2&&text=' + encodeURIComponent(message);
      xhr.open('GET', url, true);
      xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          var response = xhr.responseText;
          addMessage(response);
        }
      };
      xhr.send();
    }

    function addMessage(message) {
      const messageHTML = getMessageHTML2(message);
      document.getElementById("chatBody").insertAdjacentHTML("beforeend", messageHTML);
    }

    function sendMessage() {
      const messageInput = document.getElementById("messageInput");
      const message = messageInput.value.trim();

      if (message !== "") {
        sendMessagephp(message);
        const messageHTML = getMessageHTML(message);
        document.getElementById("chatBody").insertAdjacentHTML("beforeend", messageHTML);
        messageInput.value = "";
      }
    }
  </script>
</body>

</html>
